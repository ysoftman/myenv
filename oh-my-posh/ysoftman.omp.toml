version = 3
final_space = true

[upgrade]
source = 'cdn'
interval = '168h'
auto = false
notice = false

[[blocks]]
type = 'prompt'
alignment = 'left'

# https://github.com/ysoftman/test_code/tree/master/rust/emoji/src
# cargo run main.rs 로 현재 사용중인 폰트 리스트 볼 수 있도록 했음.
# E0B0 ~ E0B3 : 4
#    
# E0B4 ~ E0C8 : 21
#                     
# E0CA ~ E0CA : 1
# 
# E0CC ~ E0D7 : 12
#            
# 또는 아이콘 참조: https://www.nerdfonts.com/cheat-sheet > nf-ple- 검색 > icon 복사

# https://ohmyposh.dev/docs/configuration/segment
[[blocks.segments]]
type = 'os'
style = 'diamond'
leading_diamond = ''
template = '{{ .Icon }} {{ .HostName }}'
foreground = '#00c983'
background = '#003543'

[[blocks.segments]]
type = 'kubectl'
style = 'powerline'
powerline_symbol = ''
template = '  {{.Context}}{{if .Namespace}}:{{.Namespace}}{{end}}'
foreground = '#000000'
background = "#f9e2af"

[blocks.segments.properties]
[blocks.segments.properties.context_aliases]
'arn:aws:eks:eu-west-1:1234567890:cluster/posh' = 'posh'

[[blocks.segments]]
type = 'path'
style = 'powerline'
powerline_symbol = ''
template = ' <#000000> </>{{ .Path }}'
foreground = '#000000'
background = "#f38ba8"

[blocks.segments.properties]
folder_icon = ''
folder_separator_icon = '/'
home_icon = ''
style = 'full'

[[blocks.segments]]
type = 'git'
style = 'powerline'
powerline_symbol = ''
# template = ' ({{ .UpstreamIcon }}{{ .HEAD }}{{ if gt .StashCount 0 }}  {{ .StashCount }}{{ end }}) '
template = " {{ .UpstreamIcon }}{{ .HEAD }}{{if .BranchStatus }} {{ .BranchStatus }}{{ end }}{{ if .Working.Changed }}  {{ .Working.String }}{{ end }}{{ if and (.Working.Changed) (.Staging.Changed) }} |{{ end }}{{ if .Staging.Changed }}  {{ .Staging.String }}{{ end }}{{ if gt .StashCount 0 }}  {{ .StashCount }}{{ end }}"
background_templates = [
  "{{ if or (.Working.Changed) (.Staging.Changed) }}#FFEB3B{{ end }}",
  "{{ if and (gt .Ahead 0) (gt .Behind 0) }}#FFCC80{{ end }}",
  "{{ if gt .Ahead 0 }}#B388FF{{ end }}",
  "{{ if gt .Behind 0 }}#B388FB{{ end }}",
]
foreground = '#000000'
background = "#fab387"

[blocks.segments.properties]
branch_icon = ' <#000000> </>'
fetch_status = true
fetch_upstream_icon = true
fetch_stash_count = true
[blocks.segments.properties.mapped_branches]
"feat/*" = "🚀 "
"bug/*" = "🐛 "

[[blocks.segments]]
type = 'python'
style = 'powerline'
powerline_symbol = ''
template = ' <#f6F930></> {{ .Full }}'
foreground = '#100e23'
background = '#906cff'

[blocks.segments.properties]
display_mode = "files"

[[blocks.segments]]
type = 'node'
style = 'powerline'
powerline_symbol = ''
template = ' <#000000>󰎙</> {{ if .PackageManagerIcon }}{{ .PackageManagerIcon }} {{ end }}{{ .Full }}'
foreground = '#000000'
background = "#a6e3a1"

[[blocks.segments]]
type = "react"
style = "powerline"
powerline_symbol = ""
template = "  {{ .Full }}"
foreground = '#000000'
background = "#81a1c1"

[[blocks.segments]]
type = "bun"
style = 'powerline'
powerline_symbol = ''
template = " <#ffffff></> {{ .Full }}"
foreground = '#000000'
background = "#3C82F6"

[[blocks.segments]]
style = 'powerline'
type = 'go'
powerline_symbol = ''
template = '  {{ .Full }}'
foreground = '#000000'
background = '#7FD5EA'

[[blocks.segments]]
style = 'powerline'
type = 'rust'
powerline_symbol = ''
template = '  {{ .Full }}'
foreground = '#193549'
background = '#99908a'

[[blocks.segments]]
style = "powerline"
type = "helm"
powerline_symbol = ''
template = '  {{ .Version }}'
background = "#a7cae1"
foreground = "#100e23"

[blocks.segments.properties]
display_mode = "files"

[[blocks.segments]]
type = 'time'
style = 'powerline'
powerline_symbol = ''
template = '  {{ .CurrentDate | date .Format }}'
foreground = '#000000'
background = "#89b4fa"

[blocks.segments.properties]
# time_format = '3:04 PM'
time_format = "15:04:05"

[[blocks.segments]]
type = 'executiontime'
style = 'powerline'
powerline_symbol = ''
template = ' <#000000>󰔟</> {{ .FormattedMs }}'
foreground = '#000000'
background = "#cba6f7"

[blocks.segments.properties]
always_enabled = true

[[blocks.segments]]
type = 'status'
style = 'diamond'
powerline_symbol = ''
trailing_diamond = ''
template = ' {{ if gt .Code 0 }}{{ else }}{{ end }} '
background_templates = ['{{ if gt .Code 0 }}red{{ end }}']
foreground = '#ffffff'
background = "#81c8be"

[blocks.segments.properties]
always_enabled = true

[[blocks]]
type = 'prompt'
alignment = 'left'
newline = true

# root user 일때
[[blocks.segments]]
type = 'root'
style = 'plain'
template = ' '
foreground = '#cd5e42'

[[blocks.segments]]
type = 'text'
style = 'plain'
template = ' <#45F1C2><b>⚡</b></><b>{{ .UserName }}</b> <#26C6DA>❯</><#45F1C2>❯</>'
foreground = '#CD4277'
